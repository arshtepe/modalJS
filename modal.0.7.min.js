(function(){function e(a){var b=this,c;this.params=a;this.setWindow(a.window);h(this);this._resizeHandler=function(){b.isOpen&&(c&&clearTimeout(c),c=setTimeout(function(){f(b)},10))};window.addEventListener("resize",this._resizeHandler,!1)}function f(a){var b=a.window,c=(window.innerHeight-b.offsetHeight)/2,d=(window.innerWidth-b.offsetWidth)/2;a.params.NoUseAnimate||k(b,g);setTimeout(function(){b.style.top=c+"px";b.style.left=d+"px"},0)}function h(a){var b=document.createElement("div");b.className=
"modal-overlay";a._closeHandler=function(){a.onclose&&!1===a.onclose.call(a)&&a.hide()};b.addEventListener("click",a._closeHandler,!1);a.overlay=document.body.appendChild(b)}function k(a,b){for(var c=a.className.split(" "),d=c.length;d;d--)if(c[d]==b)return;c.push(b);a.className=c.join(" ")}var g="modal-window-animate";e.prototype.setAnimationPosition=function(){this.window.style.top=-this.window.clientHeight+"px"};e.prototype.setWindow=function(a){if("object"!==typeof a||1!==a.nodeType||"object"!==
typeof a.style||"object"!==typeof a.ownerDocument)throw"Incorrect parameter 'window', expected Element";this.window=a;a.style.position="fixed";a.style.zIndex="100000"};e.prototype.show=function(){if(!this.isOpen)return this.onopen&&this.onopen(),this.overlay.style.display="block",this.window.style.display="block",this.setAnimationPosition(),f(this),this.onopened&&this.onopened(),this.isOpen=!0};e.prototype.hide=function(){if(this.isOpen){this.onclose&&this.onclose();this.overlay.style.display="";
this.window.style.display="none";for(var a=this.window,b=g,c=a.className.split(" "),d=0;d<c.length;d++)c[d]==b&&c.splice(d--,1);a.className=c.join(" ");this.isOpen=!1;this.onclosed&&this.onclosed();return!0}};e.prototype.destroy=function(a){this.hide();window.removeEventListener("resize",this._resizeHandler);this.overlay.removeEventListener("click",this._closeHandler);var b=this.overlay;b.parentNode.removeChild(b);this.overlay=void 0;a&&(a=this.window,a.parentNode.removeChild(a),this.window=void 0)};
window.ModalJS=e})();